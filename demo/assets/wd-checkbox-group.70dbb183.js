import{k as e,j as l,b as s,a,q as o,E as t}from"./page-wraper.5f136bdc.js";import{d as u,v as c,q as n,N as d,h as r,j as i,o as p,c as m,w as h,u as b,n as f,x,a as k,p as V,z as g,y as v,i as $}from"./index-5b39df8e.js";import{u as y}from"./useChildren.5fd1f1a4.js";const _=Symbol("wd-checkbox-group"),C=a(u({name:"wd-checkbox",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{customLabelClass:{default:""},customShapeClass:{default:""},customClass:{default:""},modelValue:{type:[String,Number,Boolean]},shape:{default:"circle"},checkedColor:null,disabled:{type:[Boolean,null],default:null},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},size:null,maxWidth:null},emits:["change","update:modelValue"],setup(a,{emit:o}){const t=a,{parent:u,index:y}=e(_),C=c((()=>u?u.props.modelValue.indexOf(t.modelValue)>-1:t.modelValue===t.trueValue)),w=c((()=>0===y.value)),S=c((()=>{const e=l(u)?u.children:[];return y.value===e.length-1})),{proxy:z}=v();n((()=>t.modelValue),(()=>{u&&u&&u.children&&u.children.forEach((e=>{e.$.uid!==z.$.uid&&e.modelValue===t.modelValue&&console.error(`The checkbox's bound value: ${t.modelValue} has been used`)}))})),n((()=>t.shape),(e=>{const l=["circle","square","button"];-1===l.indexOf(e)&&console.error(`shape must be one of ${l.toString()}`)}));const B=c((()=>!t.shape&&u&&u.props.shape?u.props.shape:t.shape)),q=c((()=>!t.checkedColor&&u&&u.props.checkedColor?u.props.checkedColor:t.checkedColor)),j=c((()=>{let e=t.disabled;return u&&(u.props.max&&u.props.modelValue.length>=u.props.max&&!C.value||u.props.min&&u.props.modelValue.length<=u.props.min&&C.value||!0===t.disabled||u.props.disabled&&null===t.disabled)&&(e=!0),e})),G=c((()=>!(!u||!u.props.inline)&&u.props.inline)),I=c((()=>!(!u||!u.props.cell)&&u.props.cell)),N=c((()=>!t.size&&u&&u.props.size?u.props.size:t.size));function O(){if(!j.value)if(u)o("change",{value:!C.value}),u.changeSelectState(t.modelValue);else{const e=t.modelValue===t.trueValue?t.falseValue:t.trueValue;o("update:modelValue",e),o("change",{value:e})}}return d((()=>{null===t.modelValue&&console.error("checkbox's value must be set")})),(e,l)=>{const o=r(i("wd-icon"),s),t=$;return p(),m(t,{class:f(`wd-checkbox ${b(I)?"is-cell-box":""} ${"button"===b(B)?"is-button-box":""} ${b(C)?"is-checked":""} ${b(w)?"is-first-child":""} ${b(S)?"is-last-child":""} ${b(G)?"is-inline":""} ${"button"===b(B)?"is-button":""} ${b(j)?"is-disabled":""} ${b(N)?"is-"+b(N):""} ${a.customClass}`),onClick:O},{default:h((()=>["button"!==b(B)?(p(),m(t,{key:0,class:f(`wd-checkbox__shape ${"square"===b(B)?"is-square":""} ${a.customShapeClass}`),style:x(b(C)&&!b(j)&&b(q)?"color :"+b(q):"")},{default:h((()=>[k(o,{"custom-class":"wd-checkbox__check",name:"check-bold",size:"14px"})])),_:1},8,["class","style"])):V("",!0),k(t,{class:f(`wd-checkbox__label ${a.customLabelClass}`),style:x(b(C)&&"button"===b(B)&&!b(j)&&b(q)?"color:"+b(q):"")},{default:h((()=>["button"===b(B)&&b(C)?(p(),m(o,{key:0,"custom-class":"wd-checkbox__btn-check",name:"check-bold",size:"14px"})):V("",!0),k(t,{class:"wd-checkbox__txt",style:x(a.maxWidth?"max-width:"+a.maxWidth:"")},{default:h((()=>[g(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["class","style"])])),_:3},8,["class"])}}}),[["__scopeId","data-v-880e876c"]]),w=a(u({name:"wd-checkbox-group",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{customClass:{default:""},modelValue:{default:()=>[]},cell:{type:Boolean,default:!1},shape:{default:"circle"},checkedColor:null,disabled:{type:Boolean,default:!1},min:{default:0},max:{default:0},inline:{type:Boolean,default:!1},size:null,name:null},emits:["change","update:modelValue"],setup(e,{emit:l}){const s=e,{linkChildren:a}=y(_);return a({props:s,changeSelectState:function(e){const a=t(s.modelValue),o=a.indexOf(e);o>-1?a.splice(o,1):a.push(e);l("update:modelValue",a),l("change",{value:a})}}),n((()=>s.modelValue),(e=>{new Set(e).size!==e.length&&console.error("checkboxGroup's bound value includes same value"),e.length<s.min&&console.error("checkboxGroup's bound value's length can't be less than min"),0!==s.max&&e.length>s.max&&console.error("checkboxGroup's bound value's length can't be large than max")}),{deep:!0,immediate:!0}),n((()=>s.shape),(e=>{const l=["circle","square","button"];-1===l.indexOf(e)&&console.error(`shape must be one of ${l.toString()}`)}),{deep:!0,immediate:!0}),n((()=>s.min),(e=>{o(e,"min")}),{deep:!0,immediate:!0}),n((()=>s.max),(e=>{o(e,"max")}),{deep:!0,immediate:!0}),(l,s)=>{const a=$;return p(),m(a,{class:f(`wd-checkbox-group ${"button"===e.shape&&e.cell?"is-button":""} ${e.customClass}`)},{default:h((()=>[g(l.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-53f7442e"]]);export{C as _,w as a};
