import{d as a,r as e,q as o,v as l,h as s,j as t,o as n,c,w as u,z as d,p as i,a as r,x as p,u as m,e as f,F as y,b as _,t as g,n as k,i as v,X as w,g as b}from"./index-5b39df8e.js";import{p as h,b as C,a as x}from"./page-wraper.5f136bdc.js";import{u as $}from"./useTranslate.58e1bf0a.js";const B=x(a({name:"wd-tag",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{useIconSlot:{type:Boolean,default:!1},type:{default:"default"},icon:null,closable:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},dynamic:{type:Boolean,default:!1},color:null,bgColor:null,round:{type:Boolean,default:!1},mark:{type:Boolean,default:!1},customClass:{default:""}},emits:["click","close","confirm"],setup(a,{emit:x}){const B=a,{translate:I}=$("tag"),j=e(""),S=e(""),V=e(!1);o([()=>B.useIconSlot,()=>B.icon,()=>B.plain,()=>B.dynamic,()=>B.round,()=>B.mark],(()=>{G()}),{deep:!0,immediate:!0}),o((()=>B.type),(a=>{if(!a)return;const e=["primary","danger","warning","success","default"];-1===e.indexOf(a)&&console.error(`type must be one of ${e.toString()}`),G()}),{deep:!0,immediate:!0}),o((()=>V.value),(()=>{G()}),{deep:!0,immediate:!0});const q=l((()=>`wd-tag ${B.customClass} ${j.value}`)),z=l((()=>{const a={};return!B.plain&&B.bgColor&&(a.background=B.bgColor),B.bgColor&&(a["border-color"]=B.bgColor),h(a)})),F=l((()=>{const a={};return B.color&&(a.color=B.color),h(a)}));function G(){const{type:a,plain:e,round:o,mark:l,dynamic:s,icon:t,useIconSlot:n}=B;let c=[];a&&c.push(`is-${a}`),e&&c.push("is-plain"),o&&c.push("is-round"),l&&c.push("is-mark"),s&&c.push("is-dynamic"),V.value&&c.push("is-dynamic-input"),(t||n)&&c.push("is-icon"),j.value=c.join(" ")}function H(){x("click")}function O(){x("close")}function T(){V.value=!0,S.value=""}function U(){A()}function X(a){A(),x("confirm",{value:a.detail.value})}function A(){V.value=!1}return(e,o)=>{const l=v,h=s(t("wd-icon"),C),x=w,$=b;return n(),c(l,{class:k(m(q)),style:p(m(z)),onClick:H},{default:u((()=>[a.useIconSlot?(n(),c(l,{key:0,class:"wd-tag__icon"},{default:u((()=>[d(e.$slots,"icon",{},void 0,!0)])),_:3})):a.icon?(n(),c(h,{key:1,name:a.icon,"custom-class":"wd-tag__icon"},null,8,["name"])):i("",!0),r(l,{class:"wd-tag__text",style:p(m(F))},{default:u((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),a.closable&&a.round?(n(),c(h,{key:2,"custom-class":"wd-tag__close",name:"error-fill",onClick:O})):i("",!0),V.value&&a.dynamic?(n(),c(x,{key:3,class:"wd-tag__add-text",placeholder:m(I)("placeholder"),type:"text",focus:"true",modelValue:S.value,"onUpdate:modelValue":o[0]||(o[0]=a=>S.value=a),onBlur:U,onConfirm:X},null,8,["placeholder","modelValue"])):a.dynamic?(n(),c(l,{key:4,class:"wd-tag__text",style:p(m(F)),onClick:T},{default:u((()=>[e.$slots.add?d(e.$slots,"add",{key:0},void 0,!0):(n(),f(y,{key:1},[r(h,{name:"add","custom-class":"wd-tag__add wd-tag__icon"}),r($,null,{default:u((()=>[_(g(m(I)("add")),1)])),_:1})],64))])),_:3},8,["style"])):i("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-3f8d14cc"]]);export{B as _};
