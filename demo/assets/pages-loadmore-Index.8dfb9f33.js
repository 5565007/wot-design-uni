import{d as e,r as a,h as s,j as t,o as l,c as o,w as r,b as d,t as n,u as i,p as u,e as c,F as m,a as f,n as _,g as p,i as v,B as g,C as w,f as x,k as h}from"./index-5b39df8e.js";import{_ as k}from"./wd-divider.19ccb8e6.js";import{b as y,o as T,a as b,_ as j}from"./page-wraper.5f136bdc.js";import{u as C}from"./useTranslate.58e1bf0a.js";const I=b(e({name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{customClass:{default:""},state:null,loadingText:null,finishedText:null,errorText:{default:""}},emits:["reload"],setup(e,{emit:g}){const w=e,{translate:x}=C("loadmore"),h=a(null);function b(){"error"===w.state&&(h.value="loading",g("reload"))}return(a,g)=>{const w=s(t("wd-divider"),k),h=p,j=s(t("wd-icon"),y),C=s(t("wd-loading"),T),I=v;return l(),o(I,{class:_(["wd-loadmore",e.customClass]),onClick:b},{default:r((()=>["finished"===e.state?(l(),o(w,{key:0},{default:r((()=>[d(n(e.finishedText||i(x)("finished")),1)])),_:1})):u("",!0),"error"===e.state?(l(),c(m,{key:1},[e.errorText?(l(),c(m,{key:0},[d(n(e.errorText),1)],64)):(l(),c(m,{key:1},[f(h,{class:"wd-loadmore__text"},{default:r((()=>[d(n(i(x)("error")),1)])),_:1}),f(h,{class:"wd-loadmore__text is-light"},{default:r((()=>[d(n(i(x)("retry")),1)])),_:1}),f(j,{name:"refresh",size:"16px","custom-class":"wd-loadmore__refresh"})],64))],64)):u("",!0),"loading"===e.state?(l(),c(m,{key:2},[f(C,{size:"16px","custom-class":"wd-loadmore__loading"}),f(h,{class:"wd-loadmore__text"},{default:r((()=>[d(n(e.loadingText||i(x)("loading")),1)])),_:1})],64)):u("",!0)])),_:1},8,["class"])}}}),[["__scopeId","data-v-8bf17427"]]),z=b(e({__name:"Index",setup(e){const i=a("loading"),u=a(0),_=a(60);function p(){setTimeout((()=>{u.value=u.value+15,i.value="loading"}),200)}return g((()=>{45===u.value?i.value="error":u.value<_.value?p():u.value===_.value&&(i.value="finished")})),w((()=>{p()})),(e,a)=>{const _=h,g=v,w=s(t("wd-loadmore"),I),k=s(t("page-wraper"),j);return l(),o(k,null,{default:r((()=>[f(g,{class:"container"},{default:r((()=>[(l(!0),c(m,null,x(u.value,(e=>(l(),o(g,{key:e,class:"list-item"},{default:r((()=>[f(_,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),f(g,{class:"right"},{default:r((()=>[d("这是一条测试"+n(e+1),1)])),_:2},1024)])),_:2},1024)))),128)),f(w,{state:i.value,onReload:p},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-7db38e08"]]);export{z as default};
